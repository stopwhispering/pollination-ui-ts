<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
	xmlns:custom="pollination.ui.control"
    core:require="{
        Helper: 'pollination/ui/util/Helper'
    }"
>
    <!-- <CustomListItem highlight="{=
        (${potentialPollenDonorsModel>already_ongoing_attempt} ? 'Error' : 'None') 
       }"> -->
       <!-- highlight="{=
        (${potentialPollenDonorsModel>already_ongoing_attempt} ? 'Error' : 
        ${potentialPollenDonorsModel>is_same_plant} ? 'Warning' : 'None') 
       }" -->
       <!-- highlight="Indication01" -->
    <CustomListItem  
       class="customHighlight"
       highlight="{
            path: 'potentialPollenDonorsModel>pollination_attempts',
            formatter: '.formatter.getCustomHighlightIndicator'
       }"
       >
        <HBox>
            <!-- <CheckBox selected="{completed}"  /> -->
            <HBox justifyContent="Center">
                <custom:HoverImage
                    width="80px"
                    densityAware="true"
                    visible="{= !!${potentialPollenDonorsModel>plant_preview_image_id} }"
                    src="{
                        path: 'potentialPollenDonorsModel>plant_preview_image_id',
                        formatter: '.formatter.getImageUrlAvatarL'
                    }"
                    plantName="{potentialPollenDonorsModel>plant_name}"
                    plantId="{potentialPollenDonorsModel>plant_id}"
                    hoverPress=".onHoverPressPreviewImage"
                    />
                <VBox>
                    <Text
                        text="{potentialPollenDonorsModel>plant_id}"
                        class="sapUiTinyMarginBegin"
                        width="2.0rem"
                    />
                    <FormattedText
                        width="3rem"
                        htmlText="{
                            path: 'potentialPollenDonorsModel>count_stored_pollen_containers',
                            formatter: '.formatter.html_for_count_stored_pollen_containers_indicator'
                        }"
                        tooltip="{= ${potentialPollenDonorsModel>count_stored_pollen_containers} +
                            ' container(s) left' }"
                        class="sapUiTinyMarginBegin"
                    />
                    <FormattedText
                        htmlText="{=  
                            '&lt;span style=&quot;color:gray;&quot;&gt;' + ${potentialPollenDonorsModel>count_stored_pollen_containers}
                            + '&lt;/span&gt;'
                        }"
                        visible="{= !!${potentialPollenDonorsModel>count_stored_pollen_containers} }"
                        class="sapUiTinyMarginBegin"
                        width="2.0rem"
                    />
                </VBox>
                <VBox>
                    <FormattedText 
                        htmlText="{= ${potentialPollenDonorsModel>plant_name} 
                            + '&lt;br&gt;' 
                            + '&lt;span style=&quot;color:gray; font-style: italic;&quot;&gt;' + ${potentialPollenDonorsModel>plant_taxon_name}
                            + '&lt;/span&gt;'
                        }"
                        width="12rem"
                    />
                    <FormattedText 
                        htmlText="{
                            parts: ['potentialPollenDonorsModel>previous_flower_closing_dates'],
                            formatter: '.formatter.html_for_previous_flower_closing_dates'
                        }"
                        width="12rem"
                        visible="{= !!${potentialPollenDonorsModel>previous_flower_closing_dates} }"
                    />
                </VBox>            
                <FormattedText
                    width="2.5rem"
                    htmlText="{
                        parts: ['potentialPollenDonorsModel>probability_pollination_to_seed'],
                        formatter: '.formatter.html_for_pollination_probability'
                    }"
                    tooltip="{= ${potentialPollenDonorsModel>probability_pollination_to_seed}.toString() + '%' }"
                    class="sapUiTinyMarginBeginEnd"
                />
                <HBox
                    wrap="Wrap"
                    width="5.5rem"
                    items="{
                        path: 'potentialPollenDonorsModel>pollination_attempts',
                        templateShareable: false
                    }"
                >
                    <CustomListItem>
                    
                        <custom:PollinationIndicator 
                            pollinationStatus="{potentialPollenDonorsModel>pollination_status}"
                            ongoing="{potentialPollenDonorsModel>ongoing}"
                            reverse="{potentialPollenDonorsModel>reverse}"
                            
                            size="1.6rem" 
                            press=".pressHistoricalPollinationIndicator"
                            hover=".hoverHistoricalPollinationIndicator"
                            />

                    </CustomListItem>
                </HBox>


            </HBox>
        </HBox>
    </CustomListItem>
</core:FragmentDefinition>