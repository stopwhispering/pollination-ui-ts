{"version":3,"file":"formatter.js","names":["PollinationStatus","formatter","ManagedObject","html_for_count_stored_pollen_containers","iCount","color","text","html_for_pollination_status_indicator","pollination_status","ongoing","reverse","ATTEMPT","SEED_CAPSULE","SEED","GERMINATED","UNKNOWN","Error","html_for_active_florescence_dates","inflorescence_appearance_date","first_flower_opening_date","last_flower_closing_date","florescence_status","substr","html_for_pollination_probability","probability_pollination_to_seed"],"sources":["../../src/model/formatter.ts"],"sourcesContent":["import ManagedObject from \"sap/ui/base/ManagedObject\";\r\nimport { FlorescenceStatus, PollinationStatus } from \"../interfaces/enums\";\r\n\r\n/**\r\n * @namespace pollination.ui.model\r\n */\r\nexport default class formatter extends ManagedObject {\r\n    public html_for_count_stored_pollen_containers(iCount: int) {\r\n        if (!iCount || iCount == 0) {\r\n            return '';\r\n        }\r\n        if (iCount == 1) {\r\n            var color = '#FF0000';\r\n            var text = 'â–Š';\r\n        } else if (iCount <= 3) {\r\n            color = '#FFA500';\r\n            text = 'â–Šâ–Š';\r\n        } else {\r\n            color = '#7FFF00';\r\n            text = 'â–Šâ–Šâ–Š';\r\n        }\r\n\r\n        return '<span style=\"color:' + color + '\">' + text + '</span>';\r\n    }\r\n\r\n    public html_for_pollination_status_indicator(pollination_status: PollinationStatus, ongoing: boolean, reverse: boolean) {\r\n        if (ongoing) {\r\n            var color = '#BB0000';  // dark red, equal to sap.ui.core.MessageType.Error\r\n        } else {\r\n            switch (pollination_status) {\r\n                // case \"attempt\":\r\n                case PollinationStatus.ATTEMPT:\r\n                    var color = '#FFE599';  // beige\r\n                    break;\r\n                // case \"seed_capsule\":\r\n                case PollinationStatus.SEED_CAPSULE:\r\n                    color = \"#9FC5E8\";  // blue\r\n                    break;\r\n                // case \"seed\":\r\n                case PollinationStatus.SEED:\r\n                    color = \"#BF9000\";  // orange\r\n                    break;\r\n                // case \"germinated\":\r\n                case PollinationStatus.GERMINATED:\r\n                    color = \"#00AB41\";  // green\r\n                    break;\r\n                case PollinationStatus.UNKNOWN:\r\n                    color = \"#FF0000\";  // red\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Unknown pollination status: \" + pollination_status);\r\n            }\r\n        }\r\n        var text = (reverse ? '(â¬¤)' : 'â¬¤');\r\n        return '<span style=\"color:' + color + '\">' + text + '</span>';\r\n    }\r\n\r\n    html_for_active_florescence_dates(inflorescence_appearance_date: string, first_flower_opening_date: string, last_flower_closing_date: string, florescence_status: FlorescenceStatus) {\r\n        // dates in format '%Y-%m-%d', e.g. '2022-11-16'\r\n        switch (florescence_status) {\r\n            case \"inflorescence_appeared\":\r\n                var text = (inflorescence_appearance_date ? 'ðŸ™¢ ' + inflorescence_appearance_date.substr(5, 5) : '');\r\n                break;\r\n            case \"flowering\":\r\n                var text = (first_flower_opening_date ? 'âœ½ ' + first_flower_opening_date.substr(5, 5) : '');\r\n                break;\r\n            case \"finished\":\r\n                var text = (last_flower_closing_date ? 'Û° ' + last_flower_closing_date.substr(5, 5) : '');\r\n                break;\r\n            default:\r\n                throw new Error(\"Unknown florescence status: \" + florescence_status);\r\n        }\r\n        return text;\r\n    }\r\n\r\n    html_for_pollination_probability(probability_pollination_to_seed: float) {\r\n        // dates in format '%Y-%m-%d', e.g. '2022-11-16'\r\n        if (probability_pollination_to_seed == null) {\r\n            return '';\r\n        } else if (probability_pollination_to_seed == 0) {\r\n            var color = \"#FF0000\";  // red\r\n        } else if (probability_pollination_to_seed < 40) {\r\n            color = \"#FFA500\";  // orange\r\n        } else if (probability_pollination_to_seed < 70) {\r\n            color = \"#FDDA0D\";  // orange/yellow\r\n        } else {\r\n            color = \"#097969\";  // cadmium green\r\n        }\r\n        return '<span style=\"color:' + color + '\">' + probability_pollination_to_seed + '%</span>';\r\n    }\r\n}"],"mappings":"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"}