sap.ui.define(["sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/m/MessageToast","../Constants"],function(e,n,t,i){function a(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=a(i);const r=n.extend("pollination.ui.controller.BaseController",{getServiceUrl:function e(n){return o.base_url+n},applyToFragment:function n(t,i,a){var o={editFlorescence:"pollination.ui.view.fragments.EditFlorescence",editPollination:"pollination.ui.view.fragments.EditPollination",maintainPollenContainers:"pollination.ui.view.fragments.MaintainPollenContainers",addActiveFlorescence:"pollination.ui.view.fragments.AddActiveFlorescence"};var r=this.getView();if(r.byId(t)){i(r.byId(t))}else{e.load({name:o[t],id:r.getId(),controller:this}).then(function(e){r.addDependent(e);if(a){a(e)}i(e)})}},onCancelDialog:function e(n){this.applyToFragment(n,e=>e.close())},onChangeInputPreventNonFloat:function e(n){var t=n.getParameter("newValue");if(isNaN(Number(t))){var i=n.getSource().getBindingPath("value");var a=n.getSource().getBindingInfo("value").binding.getModel();a.setProperty(i,undefined);a.updateBindings()}},onChangeInputPreventNonInt:function e(n){var t=n.getParameter("newValue");if(isNaN(Number(t))||!Number.isInteger(Number(t))){var i=n.getSource().getBindingPath("value");var a=n.getSource().getBindingInfo("value").binding.getModel();a.setProperty(i,undefined);a.updateBindings()}},onSetToday:function e(n,t){var i=this.getView().getModel(n);var a=i.getData();a[t]=(new Date).toISOString().substring(0,10);i.updateBindings()},format_timestamp:function e(n){var t=n.toISOString();var i=t.replace("T"," ").substr(0,16);return i},onFail:function e(n,i){if(!!i&&!!i.responseJSON&&!!i.responseJSON.detail){var a=i.responseJSON.detail.message}else{a='Error at "'+n+'" - See console.'}t.show(a)}});return r});